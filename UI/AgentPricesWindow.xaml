<Window x:Class="StersTransport.UI.AgentPricesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:StersTransport.UI"
        mc:Ignorable="d"
        x:Name="UI_AgentPrices"
        Loaded="UI_AgentPrices_Loaded"
        Title="AgentPricesWindow" Height="800" Width="1000"
        DataContext="{Binding RelativeSource= {RelativeSource Self}}"
        WindowStartupLocation="CenterScreen"
        >
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"></RowDefinition>
            <RowDefinition Height="10*"></RowDefinition>
            <RowDefinition Height="1*"></RowDefinition>
        </Grid.RowDefinitions>

        <TextBlock FontWeight="Bold" VerticalAlignment="Center" 
                   
                   HorizontalAlignment="Center"
                   Foreground="#3979CD"
                   x:Name="txtblock_Title">Prices</TextBlock>

        <DataGrid x:Name="grd"
                  DataGridCell.Selected="grd_Selected"
            AddingNewItem="DataGrid_AddingNewItem_1"
            Style="{DynamicResource DataGridStyle1}"
            AutoGeneratingColumn="DataGrid_AutoGeneratingColumn"
            AutoGeneratedColumns="DataGrid_AutoGeneratedColumns"
            ItemsSource="{Binding agentprices}" Grid.Row="1">
            <DataGrid.Columns>
                <DataGridTemplateColumn Header="Destination" >
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Grid HorizontalAlignment="Stretch">
                            <ComboBox 
                                Style="{DynamicResource StandardCombobox2}"
                                HorizontalAlignment="Stretch"
                                ItemsSource="{Binding destinationAgents,RelativeSource={RelativeSource AncestorType=Window}}"
                                             IsEditable="True"
                                             SelectedValue="{Binding Agent_Id_Destination,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,NotifyOnSourceUpdated=True}"
                                             DisplayMemberPath="AgentName"
                                             SelectedValuePath="Id"
                                              >

                            </ComboBox>
                            </Grid>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

                <DataGridTemplateColumn Header="Delete">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button 
                                        Template="{DynamicResource ResourceKey=CancelButtonTemplate}"
                                        Click="Button_Click_1">Delete</Button>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <Button
            FontWeight="Bold"
            Template="{DynamicResource ActionButtonBlueTemplate}"
            Click="Button_Click" Grid.Row="2" Width="100" Margin="5">Save</Button>
       
    </Grid>
    
    
    
</Window>
